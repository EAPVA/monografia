\chapter{Introdução}\label{cap:introducao}

O aumento do número de veículos em cidades implica em vários desafios de 
planejamento urbano. Os problemas a serem resolvidos crescem tanto em escala
quanto em complexidade.

Em cidades maiores é preciso dimensionar vias e rotas para comportar os fluxos 
de cada região. É necessário obter informação sobre origem e destino de cada 
veículo para determinar a utilização das vias, e assim viabilizar o 
planejamento. Fiscalização de velocidade, de conversões ilegais e licenciamento 
dos veículos são tarefas fundamentais que se tornam inviáveis de serem feitas 
manualmente em larga escala.

Pode-se também pensar em tratamento de congestionamentos. Em algumas cidades, 
onde há rodízio de veículos baseados em número de placa, é necessário um 
sistema capaz de fiscalizar uma grande quantidade de veículos, idealmente 
todos. Sistemas de tarifação de congestionamento, como o aplicado em Londres
\cite{londres}\cite{londres2}
, envolvem identificar todos os veículos em uma região e 
emitir taxas, para desestimular o uso de veículos nestas áreas.

Reconhecimento automático de placas é um processo que pode ser utilizado para 
tratar esses problemas. Tipicamente isso é realizado sobre imagem de vídeo 
e envolve várias etapas, sendo que uma delas, denominada extração, é 
responsável por localizar as posições das placas na imagem.

Muitos algoritmos de 
visão computacional são altamente paralelizáveis, por operarem em dados de
forma iterativa e independente. A arquitetura das GPUs foi desenvolvida para
maximizar o \emph{throughput} desse tipo de algoritmo. Os resultados em 
\cite{ready2007gpu} e \cite{park2008low} demonstram um ganho considerável de 
performance ao se utilizar a GPU para atividades relacionadas com imagem 
e vídeo, ao invés de simplesmente utilizar a CPU. 

No entanto, para se obter tais ganhos deve-se utilizar a GPU de forma 
eficiente, sendo necessário entender sua estrutura e funcionamento para 
conseguir bons resultados. Se comparada com uma CPU, a GPU também possui 
limitações que devem ser levadas em consideração como, por exemplo, menor 
\emph{clock} e \emph{overhead} de transferência de dados.

\section{Contexto}

Existe um projeto em desenvolvimento na \sigla{UTFPR}{Universidade Tecnológica 
Federal do Paraná} (Universidade Tecnológica Federal do Paraná) que visa 
utilizar imagem de vídeo para medir a velocidade de veículos, reduzindo os 
custos de instalação de sensores na via. Uma das etapas necessárias é extração
de placas, que são usadas para rastrear os veículos. A atual implementação 
utiliza o algoritmo T-HOG em uma CPU Intel Core i7, não atingindo os requisitos 
de tempo real de 50ms por \emph{frame} \cite{l2008a}. 

Este trabalho propõe implementar o algoritmo T-HOG em \sigla{CUDA}{Compute 
Unified Device Architecture} (\emph{Compute Unified Device Architecture}) para 
ser executado em uma GPU, de forma a melhorar a performance e possivelmente 
atingir os requisitos de tempo real. 

\section{Objetivos}

\noindent \textbf{Objetivo Geral}

Realizar uma implementação do algoritmo T-HOG em GPU para localizar placas de
veículos em um \emph{stream} de vídeo.

\noindent \textbf{Objetivo Específico}

Implementar o algoritmo T-HOG usando \sigla{API}{Application Programming 
Interface} (\emph{Application Programming Interface}) Cuda da NVIDIA no 
\emph{kit} de desenvolvimento Jetson do mesmo fornecedor. A implementação será 
feita como uma biblioteca em C++, de forma que possa ser utilizado por 
qualquer \emph{software} que queira implementar as outras etapas do 
reconhecimento de placas.

\noindent \textbf{Escopo}

Das diversas etapas do reconhecimento de placas de trânsito, este projeto trata 
apenas da extração. Este processo inclui apenas indicar quantas placas foram 
encontradas e sua localização. 
Estas informações serão disponibilizadas continuamente via
\sigla{API}{Application Programming Interface}(\emph{Application Programming
Interface}) da biblioteca em C++.

O escopo deste projeto não inclui etapas posteriores à extração, como 
tratamento de imagem, segmentação de dígitos e reconhecimento dos caracteres 
constantes na mesma. 

\section{Resultados Esperados}

Utilizar uma GPU para realizar a extração pode trazer uma série de ganhos para
o sistema:

\noindent \textbf{Melhor taxa de \emph{frames}}

Se os algoritmos forem mais rápidos torna-se possível analisar mais quadros por 
segundo. Em situações nas quais os veículos podem trafegar em alta velocidade, 
como em rodovias, é preferível que as imagens sejam analizadas em tempo real,
onde a utilização de uma GPU pode gerar ganhos consideráveis de performance.

\noindent \textbf{Possibilidade de CPU de menor custo}

Dado um sistema que já atende aos requisitos da sua aplicação um sistema deste 
pode rodar em um equipamento de menor custo, reduzindo o custo total da 
solução.

\noindent \textbf{Menor consumo de energia}

Dado que, em alguns casos, este tipo de sistema pode rodar, por exemplo, em um 
veículo da polícia, o consumo de energia do sistema precisa ser controlado para 
não exceder a capacidade de geração de energia do mesmo.
 
\noindent \textbf{Imagens de maior Resolução}

Uma câmera de 1080p possui, por quadro, cerca do dobro da quantidade de pixels 
do uma câmera 720p. A aceleração via GPU pode viabilizar o uso de uma câmera de 
maior resolução, o que resulta em maior nitidez e uma maior taxa de acertos ou, 
em alguns casos, a substituição de duas câmeras por apenas uma de maior 
resolução.

\noindent \textbf{Processamento em tempo real}

Algumas soluções armazenam as imagens para serem analisadas em lotes, devido à 
incapacidade de tratamento destas imagens em tempo real. Isso elimina qualquer 
oportunidade que demande identificação da placa no momento da filmagem.

\noindent \textbf{Menor demanda de largura de banda}

Eliminação da transmissão e processamento remoto do \emph{stream} de vídeo em 
troca do processamento local e transmissão apenas de dados processados ou 
sumarizados, conforme necessidades específicas.

